# Домашняя работа к модулю 9

# Тема 35.2 CI/CD и GitHub Actions


## 1. Для запуска прилодения на удалённом сервере использован докер-конетейнер.

Сервисы:

* **web** - сервис приложения;

* **db** - серваис БД, в качестве БД используется PostgreSQL;

* **adminer** - админка для БД;

* **redis** - «очередь заданий», которые должен выполнить Celery;

* **celery** - сервис для отложенных задач;

* **celery-beat** - сервис для периодических задач;

* **nginx** - это фронтенд веб-сервер (reverse proxy);


## 2. Ручной деплой сервера в облаке

Целью работы является деплой контейнера с приложением Django.

Для размещения докер-контейнера создано облако в Яндекс-cloud

HostName ```5.35.108.203```.

Используется Ubuntu 22.04.

Открыты порты:
* 22 - SSH);
* 80 - HTTP);
* 443 - HTTPS;
* 8000 - порт приложения

Запуск приложения происходит через Gunicorn. Связка такая:

```scss
[Браузер] → HTTP → [Nginx] → WSGI (через proxy_pass) → [Gunicorn] → [Django] → [Ответ] → [Nginx] → [Браузер]

Как работает связка:
1. Nginx принимает HTTP-запрос от клиента.
2. Nginx пересылает этот запрос Gunicorn.
3. Gunicorn запускает Django-приложение по WSGI-протоколу.
4. Django обрабатывает запрос и возвращает ответ через Gunicorn обратно в Nginx.
5. Nginx отправляет ответ клиенту.

Gunicorn:
* запускает само Django-приложение;
* принимает HTTP-запросы и передаёт их Django через WSGI-интерфейс;
* обрабатывает Python-код (вызовы view-функций, работу ORM, шаблоны и т.д.);
* отвечает только за backend-логику.

Nginx:
* принимает все входящие запросы от клиента (например, браузера);
* перенаправляет (proxy_pass) запросы на Gunicorn, если это Django-прослойка (/api, /admin, и т.п.);
* отдаёт напрямую статические файлы (/static/, /media/);
